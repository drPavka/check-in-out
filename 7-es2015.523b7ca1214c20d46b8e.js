(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{nHPb:function(e,n,s){"use strict";s.r(n),s.d(n,"CheckInModule",(function(){return O}));var t=s("ofXK"),r=s("tyNb"),o=s("quSY"),c=s("XNiG"),i=s("2Vo4"),a=s("eIep"),u=s("pLZG"),b=s("fXoL"),l=s("4jVr"),d=s("IyRd");const p=function(){return["QR_CODE"]};let h=(()=>{class e{constructor(e){this._operations=e,this._subs=new o.a,this.submit$$=new c.a,this.scanned$$=new i.a(!1),this.scannerEnabled=!0,this.currentDevice=null,this.scanned$=this.scanned$$.asObservable()}ngOnInit(){this._subs.add(this.scanned$.pipe(Object(a.a)(this._operations.analyzeCheckInQRCode.bind(this._operations)),Object(u.a)(e=>!!e)).subscribe())}ngOnDestroy(){this._subs.unsubscribe()}onCamerasFound(e){console.log("camera found"),this.availableDevices=e,this.hasDevices=Boolean(e&&e.length);for(const n of e)if(/back|rear|environment/gi.test(n.label)){this.currentDevice=n;break}this.hasDevices&&!this.currentDevice&&(this.currentDevice=e[0])}onCamerasNotFound(){console.log("camera not found"),this.hasDevices=!1}onHasPermission(e){console.log("has permissions"),this.hasPermission=e}handleQrCodeResult(e){console.log("handle",e);let n={};e.split(";").forEach(e=>{const[s,t]=e.split("=");n[s]=t}),this.scanned$$.next(n)}scanError(){console.log("error")}}return e.\u0275fac=function(n){return new(n||e)(b.Jb(l.a))},e.\u0275cmp=b.Db({type:e,selectors:[["app-check-in"]],decls:4,vars:5,consts:[[3,"enable","device","formats","tryHarder","scanSuccess","scanError","camerasFound","camerasNotFound","permissionResponse"]],template:function(e,n){1&e&&(b.Ob(0,"p"),b.mc(1,"check-in works!"),b.Nb(),b.Ob(2,"div"),b.Ob(3,"zxing-scanner",0),b.Wb("scanSuccess",(function(e){return n.handleQrCodeResult(e)}))("scanError",(function(){return n.scanError()}))("camerasFound",(function(e){return n.onCamerasFound(e)}))("camerasNotFound",(function(){return n.onCamerasNotFound()}))("permissionResponse",(function(e){return n.onHasPermission(e)})),b.Nb(),b.Nb()),2&e&&(b.zb(3),b.bc("enable",n.scannerEnabled)("device",n.currentDevice)("formats",b.cc(4,p))("tryHarder",!0))},directives:[d.a],styles:[""],changeDetection:0}),e})();var m=s("bTqV");const f=[{path:"",component:h},{path:"validation",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=b.Db({type:e,selectors:[["app-validation-success"]],decls:4,vars:0,consts:[["mat-raised-button","","color","primary","routerLink","/in-out"]],template:function(e,n){1&e&&(b.Ob(0,"p"),b.mc(1,"Vistor validated. SMS send to the visitor"),b.Nb(),b.Ob(2,"button",0),b.mc(3,"Ok"),b.Nb())},directives:[m.a,r.b],styles:[""]}),e})()},{path:"success",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=b.Db({type:e,selectors:[["app-check-in-success"]],decls:4,vars:0,consts:[["mat-raised-button","","color","primary","routerLink","/in-out"]],template:function(e,n){1&e&&(b.Ob(0,"p"),b.mc(1,"Visitor is checked-in"),b.Nb(),b.Ob(2,"button",0),b.mc(3,"Ok"),b.Nb())},directives:[m.a,r.b],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(n){return new(n||e)},imports:[[r.d.forChild(f)],r.d]}),e})();var y=s("PCNd");let O=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(n){return new(n||e)},providers:[],imports:[[t.b,v,y.a,d.b]]}),e})()}}]);