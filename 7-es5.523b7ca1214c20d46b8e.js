function _slicedToArray(e,n){return _arrayWithHoles(e)||_iterableToArrayLimit(e,n)||_unsupportedIterableToArray(e,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],t=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(t=(i=s.next()).done)&&(r.push(i.value),!n||r.length!==n);t=!0);}catch(c){o=!0,a=c}finally{try{t||null==s.return||s.return()}finally{if(o)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var t=0,o=function(){};return{s:o,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{nHPb:function(e,n,r){"use strict";r.r(n),r.d(n,"CheckInModule",(function(){return O}));var t,o,a,i,s,c=r("ofXK"),u=r("tyNb"),l=r("quSY"),f=r("XNiG"),b=r("2Vo4"),d=r("eIep"),p=r("pLZG"),y=r("fXoL"),h=r("4jVr"),m=r("IyRd"),v=function(){return["QR_CODE"]},_=((t=function(){function e(n){_classCallCheck(this,e),this._operations=n,this._subs=new l.a,this.submit$$=new f.a,this.scanned$$=new b.a(!1),this.scannerEnabled=!0,this.currentDevice=null,this.scanned$=this.scanned$$.asObservable()}return _createClass(e,[{key:"ngOnInit",value:function(){this._subs.add(this.scanned$.pipe(Object(d.a)(this._operations.analyzeCheckInQRCode.bind(this._operations)),Object(p.a)((function(e){return!!e}))).subscribe())}},{key:"ngOnDestroy",value:function(){this._subs.unsubscribe()}},{key:"onCamerasFound",value:function(e){console.log("camera found"),this.availableDevices=e,this.hasDevices=Boolean(e&&e.length);var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var t=n.value;if(/back|rear|environment/gi.test(t.label)){this.currentDevice=t;break}}}catch(o){r.e(o)}finally{r.f()}this.hasDevices&&!this.currentDevice&&(this.currentDevice=e[0])}},{key:"onCamerasNotFound",value:function(){console.log("camera not found"),this.hasDevices=!1}},{key:"onHasPermission",value:function(e){console.log("has permissions"),this.hasPermission=e}},{key:"handleQrCodeResult",value:function(e){console.log("handle",e);var n={};e.split(";").forEach((function(e){var r=_slicedToArray(e.split("="),2),t=r[0],o=r[1];n[t]=o})),this.scanned$$.next(n)}},{key:"scanError",value:function(){console.log("error")}}]),e}()).\u0275fac=function(e){return new(e||t)(y.Jb(h.a))},t.\u0275cmp=y.Db({type:t,selectors:[["app-check-in"]],decls:4,vars:5,consts:[[3,"enable","device","formats","tryHarder","scanSuccess","scanError","camerasFound","camerasNotFound","permissionResponse"]],template:function(e,n){1&e&&(y.Ob(0,"p"),y.mc(1,"check-in works!"),y.Nb(),y.Ob(2,"div"),y.Ob(3,"zxing-scanner",0),y.Wb("scanSuccess",(function(e){return n.handleQrCodeResult(e)}))("scanError",(function(){return n.scanError()}))("camerasFound",(function(e){return n.onCamerasFound(e)}))("camerasNotFound",(function(){return n.onCamerasNotFound()}))("permissionResponse",(function(e){return n.onHasPermission(e)})),y.Nb(),y.Nb()),2&e&&(y.zb(3),y.bc("enable",n.scannerEnabled)("device",n.currentDevice)("formats",y.cc(4,v))("tryHarder",!0))},directives:[m.a],styles:[""],changeDetection:0}),t),k=r("bTqV"),C=[{path:"",component:_},{path:"validation",component:(a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=y.Db({type:a,selectors:[["app-validation-success"]],decls:4,vars:0,consts:[["mat-raised-button","","color","primary","routerLink","/in-out"]],template:function(e,n){1&e&&(y.Ob(0,"p"),y.mc(1,"Vistor validated. SMS send to the visitor"),y.Nb(),y.Ob(2,"button",0),y.mc(3,"Ok"),y.Nb())},directives:[k.a,u.b],styles:[""]}),a)},{path:"success",component:(o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=y.Db({type:o,selectors:[["app-check-in-success"]],decls:4,vars:0,consts:[["mat-raised-button","","color","primary","routerLink","/in-out"]],template:function(e,n){1&e&&(y.Ob(0,"p"),y.mc(1,"Visitor is checked-in"),y.Nb(),y.Ob(2,"button",0),y.mc(3,"Ok"),y.Nb())},directives:[k.a,u.b],styles:[""]}),o)}],w=((i=function e(){_classCallCheck(this,e)}).\u0275mod=y.Hb({type:i}),i.\u0275inj=y.Gb({factory:function(e){return new(e||i)},imports:[[u.d.forChild(C)],u.d]}),i),g=r("PCNd"),O=((s=function e(){_classCallCheck(this,e)}).\u0275mod=y.Hb({type:s}),s.\u0275inj=y.Gb({factory:function(e){return new(e||s)},providers:[],imports:[[c.b,w,g.a,m.b]]}),s)}}]);