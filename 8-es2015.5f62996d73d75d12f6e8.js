(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{bD6a:function(e,n,s){"use strict";s.r(n),s.d(n,"CheckOutModule",(function(){return m}));var t=s("ofXK"),o=s("tyNb"),r=s("quSY"),c=s("2Vo4"),a=s("pLZG"),i=s("eIep"),u=s("fXoL"),l=s("4jVr"),b=s("IyRd");const d=function(){return["QR_CODE"]},p=[{path:"",component:(()=>{class e{constructor(e){this._operations=e,this._subs=new r.a,this.scanned$$=new c.a(!1),this.scannerEnabled=!0,this.currentDevice=null}ngOnInit(){this._subs.add(this.scanned$$.asObservable().pipe(Object(a.a)(e=>!!e),Object(i.a)(this._operations.checkOut$.bind(this._operations)),Object(a.a)(e=>!!e)).subscribe())}onCamerasFound(e){console.log("camera found"),this.availableDevices=e,this.hasDevices=Boolean(e&&e.length);for(const n of e)if(/back|rear|environment/gi.test(n.label)){this.currentDevice=n;break}this.hasDevices&&!this.currentDevice&&(this.currentDevice=e[0])}onCamerasNotFound(){console.log("camera not found"),this.hasDevices=!1}onHasPermission(e){console.log("has permissions"),this.hasPermission=e}handleQrCodeResult(e){console.log("handle",e);let n={};e.split(";").forEach(e=>{const[s,t]=e.split("=");n[s]=t}),this.scanned$$.next(n)}scanError(){console.log("error")}}return e.\u0275fac=function(n){return new(n||e)(u.Jb(l.a))},e.\u0275cmp=u.Db({type:e,selectors:[["app-check-out"]],decls:3,vars:5,consts:[[3,"enable","device","formats","tryHarder","scanSuccess","scanError","camerasFound","camerasNotFound","permissionResponse"]],template:function(e,n){1&e&&(u.Ob(0,"p"),u.mc(1,"Check out"),u.Nb(),u.Ob(2,"zxing-scanner",0),u.Wb("scanSuccess",(function(e){return n.handleQrCodeResult(e)}))("scanError",(function(){return n.scanError()}))("camerasFound",(function(e){return n.onCamerasFound(e)}))("camerasNotFound",(function(){return n.onCamerasNotFound()}))("permissionResponse",(function(e){return n.onHasPermission(e)})),u.Nb()),2&e&&(u.zb(2),u.bc("enable",n.scannerEnabled)("device",n.currentDevice)("formats",u.cc(4,d))("tryHarder",!0))},directives:[b.a],styles:[""],changeDetection:0}),e})()},{path:"success",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=u.Db({type:e,selectors:[["app-check-out-success"]],decls:4,vars:0,consts:[["mat-raised-button","","color","primary","routerLink","/in-out"]],template:function(e,n){1&e&&(u.Ob(0,"p"),u.mc(1,"Visitor is successfully checked out"),u.Nb(),u.Ob(2,"button",0),u.mc(3,"Ok"),u.Nb())},directives:[o.b],styles:[""]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(n){return new(n||e)},imports:[[o.d.forChild(p)],o.d]}),e})(),m=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(n){return new(n||e)},imports:[[t.b,h,b.b]]}),e})()}}]);