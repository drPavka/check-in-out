(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{nHPb:function(t,n,e){"use strict";e.r(n),e.d(n,"CheckInModule",(function(){return M}));var r=e("ofXK"),s=e("tyNb"),o=e("quSY"),c=e("2Vo4"),a=e("pLZG"),i=e("vkgz"),b=e("eIep"),u=e("fXoL"),p=e("4jVr"),l=e("sYmb"),d=e("f0Cb"),h=e("IyRd"),m=e("bTqV");const f=["scanner"],g=function(){return["QR_CODE"]};let O=(()=>{class t{constructor(t){this._operations=t,this._subs=new o.a,this.scanned$$=new c.a(!1),this.scannerEnabled=!0,this.currentDevice=null}ngOnInit(){this._subs.add(this.scanned$$.asObservable().pipe(Object(a.a)(t=>!!t),Object(a.a)(()=>this.scannerEnabled),Object(i.a)(()=>{this.scannerEnabled=!1}),Object(b.a)(this._operations.analyzeCheckInQRCode.bind(this._operations)),Object(i.a)(()=>{this.scannerEnabled=!0}),Object(a.a)(t=>!!t)).subscribe())}ngOnDestroy(){this._subs.unsubscribe()}onCamerasFound(t){console.log("camera found"),this.availableDevices=t,this.hasDevices=Boolean(t&&t.length);for(const n of t)if(/back|rear|environment/gi.test(n.label)){this.currentDevice=n;break}this.hasDevices&&!this.currentDevice&&(this.currentDevice=t[0])}onCamerasNotFound(){console.log("camera not found"),this.hasDevices=!1}onHasPermission(t){console.log("has permissions"),this.hasPermission=t}handleQrCodeResult(t){this.scanned$$.next(this._operations.parseCode(t))}scanError(){console.log("error")}}return t.\u0275fac=function(n){return new(n||t)(u.Kb(p.a))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-check-in"]],viewQuery:function(t,n){var e;1&t&&u.uc(f,!0),2&t&&u.gc(e=u.Yb())&&(n.scanner=e.first)},decls:9,vars:4,consts:[[3,"translate"],[1,"scanner"],[3,"device","formats","tryHarder","scanSuccess","scanError","camerasFound","camerasNotFound","permissionResponse"],["scanner",""],["routerLink","/in-out","mat-button",""]],template:function(t,n){1&t&&(u.Pb(0,"h3",0),u.pc(1,"Scan QR code"),u.Ob(),u.Lb(2,"mat-divider"),u.Pb(3,"div",1),u.Pb(4,"zxing-scanner",2,3),u.Xb("scanSuccess",(function(t){return n.handleQrCodeResult(t)}))("scanError",(function(){return n.scanError()}))("camerasFound",(function(t){return n.onCamerasFound(t)}))("camerasNotFound",(function(){return n.onCamerasNotFound()}))("permissionResponse",(function(t){return n.onHasPermission(t)})),u.Ob(),u.Ob(),u.Pb(6,"a",4),u.Pb(7,"span",0),u.pc(8,"can\u0441el"),u.Ob(),u.Ob()),2&t&&(u.zb(4),u.ec("device",n.currentDevice)("formats",u.fc(3,g))("tryHarder",!0))},directives:[l.a,d.a,h.a,s.c,m.a],styles:["h3[_ngcontent-%COMP%]{color:grey}mat-divider[_ngcontent-%COMP%]{background-color:#03a9f4}div.scanner[_ngcontent-%COMP%]{padding:24px;margin-top:36px}[_nghost-%COMP%]   zxing-scanner[_ngcontent-%COMP%] {width:100%;height:100%;-o-object-fit:contain;object-fit:contain}a[_ngcontent-%COMP%]{margin:0 auto;display:block;padding-top:36px;font-weight:400;color:grey!important;text-decoration:underline;text-transform:capitalize}"],changeDetection:0}),t})();var v=e("XiUz");let P=(()=>{class t{constructor(t){this._operations=t}ngOnInit(){}get visitors(){return this._operations.getVisitors$()}}return t.\u0275fac=function(n){return new(n||t)(u.Kb(p.a))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-validation-success"]],decls:11,vars:1,consts:[["fxLayoutAlign","center center","fxLayout","column",2,"padding-top","64px"],[3,"translate"],[2,"font-weight","bold",3,"translate"],["mat-raised-button","","color","primary","routerLink","/in-out/check-in"]],template:function(t,n){1&t&&(u.Pb(0,"div",0),u.Pb(1,"h1",1),u.pc(2,"SMS sent to guest"),u.Ob(),u.Pb(3,"p"),u.Pb(4,"span",1),u.pc(5,"Number of guests currently checked-in"),u.Ob(),u.pc(6),u.Ob(),u.Pb(7,"p",2),u.pc(8,"Please ask the customer for the SMS"),u.Ob(),u.Pb(9,"button",3),u.pc(10,"Ok"),u.Ob(),u.Ob()),2&t&&(u.zb(6),u.rc(" [",n.visitors,"]"))},directives:[v.b,v.c,l.a,m.b,s.b],styles:["[_nghost-%COMP%]{height:100%;flex:1}"]}),t})();var y=e("NFeN");let k=(()=>{class t{constructor(t){this._operations=t}ngOnInit(){}get visitors$(){return this._operations.visitors$$.asObservable().pipe()}}return t.\u0275fac=function(n){return new(n||t)(u.Kb(p.a))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-check-in-success"]],decls:10,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center",2,"padding-top","64px"],[3,"translate"],["color","primary",1,"symbol"],["mat-raised-button","","color","primary","routerLink","/in-out/check-in"]],template:function(t,n){1&t&&(u.Pb(0,"div",0),u.Pb(1,"h1",1),u.pc(2,"Check-in Successfull"),u.Ob(),u.Pb(3,"mat-icon",2),u.pc(4,"check"),u.Ob(),u.Pb(5,"div"),u.pc(6),u.ac(7,"async"),u.Ob(),u.Pb(8,"button",3),u.pc(9,"Ok"),u.Ob(),u.Ob()),2&t&&(u.zb(6),u.rc(" ",u.bc(7,1,n.visitors$)," "))},directives:[v.c,v.b,l.a,y.a,m.b,s.b],pipes:[r.b],styles:[""]}),t})();var C=e("/t3+"),w=e("STbY");const x=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=u.Eb({type:t,selectors:[["app-layout"]],decls:16,vars:1,consts:[["color","primary"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center","routerLink","/"],[3,"translate"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["extraMenu","matMenu"],["mat-menu-item",""],[1,"content"]],template:function(t,n){if(1&t&&(u.Pb(0,"mat-toolbar",0),u.Pb(1,"mat-toolbar-row"),u.Pb(2,"a",1),u.Pb(3,"h1",2),u.pc(4,"Check-in"),u.Ob(),u.Ob(),u.Lb(5,"span",3),u.Pb(6,"span"),u.Pb(7,"button",4),u.Pb(8,"mat-icon"),u.pc(9,"more_vert"),u.Ob(),u.Ob(),u.Ob(),u.Pb(10,"mat-menu",null,5),u.Pb(12,"button",6),u.pc(13,"Logout"),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(14,"div",7),u.Lb(15,"router-outlet"),u.Ob()),2&t){const t=u.hc(11);u.zb(7),u.ec("matMenuTriggerFor",t)}},directives:[C.a,C.c,s.c,v.a,v.c,v.b,l.a,m.b,w.c,y.a,w.d,w.a,s.e],styles:[""]}),t})(),children:[{path:"",component:O},{path:"validation",component:P},{path:"success",component:k}]}];let _=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(n){return new(n||t)},imports:[[s.d.forChild(x)],s.d]}),t})();var L=e("PCNd");let M=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(n){return new(n||t)},providers:[],imports:[[r.c,_,L.a,h.b,d.b]]}),t})()}}]);