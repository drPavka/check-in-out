(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{nHPb:function(t,e,n){"use strict";n.r(e),n.d(e,"CheckInModule",(function(){return F}));var o=n("tyNb"),c=n("quSY"),s=n("2Vo4"),r=n("pLZG"),i=n("vkgz"),a=n("eIep"),u=n("fXoL"),b=n("4jVr"),l=n("sYmb"),p=n("kmnG"),d=n("d3UM"),h=n("FKr1"),f=n("ofXK"),v=n("IyRd");const g=["scanner"];function m(t,e){if(1&t&&(u.Qb(0,"mat-option",8),u.qc(1),u.Pb()),2&t){const t=e.$implicit;u.fc("value",t.deviceId),u.zb(1),u.sc(" ",t.label," ")}}const y=function(){return["QR_CODE"]};let P=(()=>{class t{constructor(t){this._operations=t,this._subs=new c.a,this.scanned$$=new s.a(!1),this.scannerEnabled=!0,this.currentDevice=null}ngOnInit(){this._subs.add(this.scanned$$.asObservable().pipe(Object(r.a)(t=>!!t),Object(r.a)(()=>this.scannerEnabled),Object(i.a)(()=>{this.scannerEnabled=!1}),Object(a.a)(this._operations.analyzeCheckInQRCode.bind(this._operations)),Object(i.a)(()=>{this.scannerEnabled=!0}),Object(r.a)(t=>!!t)).subscribe())}ngOnDestroy(){this._subs.unsubscribe()}onCamerasFound(t){console.log("camera found"),this.availableDevices=t,this.hasDevices=Boolean(t&&t.length);for(const e of t)if(/back|rear|environment/gi.test(e.label)){this.currentDevice=e;break}this.hasDevices&&!this.currentDevice&&(this.currentDevice=t[0])}onCamerasNotFound(){console.log("camera not found"),this.hasDevices=!1}onHasPermission(t){console.log("has permissions"),this.hasPermission=t}handleQrCodeResult(t){this.scanned$$.next(this._operations.parseCode(t))}scanError(){console.log("error")}onDeviceSelectChange(t){const e=this.availableDevices.find(e=>e.deviceId===t);this.currentDevice=e||null}}return t.\u0275fac=function(e){return new(e||t)(u.Lb(b.a))},t.\u0275cmp=u.Fb({type:t,selectors:[["app-check-in"]],viewQuery:function(t,e){var n;1&t&&u.vc(g,!0),2&t&&u.hc(n=u.Zb())&&(e.scanner=n.first)},decls:10,vars:7,consts:[[3,"translate"],[1,"device-select-field"],[3,"value","selectionChange"],[3,"value","translate"],["class","mat-option",3,"value",4,"ngFor","ngForOf"],[1,"scanner"],[3,"device","formats","tryHarder","scanSuccess","scanError","camerasFound","camerasNotFound","permissionResponse"],["scanner",""],[1,"mat-option",3,"value"]],template:function(t,e){1&t&&(u.Qb(0,"h3",0),u.qc(1,"Scan QR code"),u.Pb(),u.Qb(2,"mat-form-field",1),u.Qb(3,"mat-select",2),u.Yb("selectionChange",(function(t){return e.onDeviceSelectChange(t.value)})),u.Qb(4,"mat-option",3),u.qc(5,"No device selected"),u.Pb(),u.pc(6,m,2,2,"mat-option",4),u.Pb(),u.Pb(),u.Qb(7,"div",5),u.Qb(8,"zxing-scanner",6,7),u.Yb("scanSuccess",(function(t){return e.handleQrCodeResult(t)}))("scanError",(function(){return e.scanError()}))("camerasFound",(function(t){return e.onCamerasFound(t)}))("camerasNotFound",(function(){return e.onCamerasNotFound()}))("permissionResponse",(function(t){return e.onHasPermission(t)})),u.Pb(),u.Pb()),2&t&&(u.zb(3),u.fc("value",null!=e.currentDevice&&e.currentDevice.deviceId?e.currentDevice.deviceId:""),u.zb(1),u.fc("value",""),u.zb(2),u.fc("ngForOf",e.availableDevices),u.zb(2),u.fc("device",e.currentDevice)("formats",u.gc(6,y))("tryHarder",!0))},directives:[l.a,p.c,d.a,h.h,f.j,v.a],styles:["[_nghost-%COMP%]   zxing-scanner[_ngcontent-%COMP%] {width:100%;height:100%;-o-object-fit:contain;object-fit:contain}a[_ngcontent-%COMP%]{margin:0 auto;display:block;padding-top:36px;font-weight:400;color:grey!important;text-decoration:underline;text-transform:capitalize}"],changeDetection:0}),t})();var k=n("73Ib"),C=n("XiUz"),Q=n("NFeN"),w=n("bTqV");let O=(()=>{class t{constructor(t){this._operations=t}ngOnInit(){}get visitors(){return this._operations.getVisitors()}get toolbarType(){return k.b.checkIn}}return t.\u0275fac=function(e){return new(e||t)(u.Lb(b.a))},t.\u0275cmp=u.Fb({type:t,selectors:[["app-validation-success"]],decls:17,vars:7,consts:[[3,"showBackButton","showLogoutButton","title","type"],[1,"content"],["fxLayout","column","fxLayoutAlign","center center",2,"padding-top","64px"],[3,"translate"],[1,"symbol"],[1,"visitors"],["color","primary","mat-raised-button","","routerLink","/in-out/check-in"],[2,"font-weight","lighter",3,"translate"]],template:function(t,e){1&t&&(u.Mb(0,"app-toolbar",0),u.bc(1,"translate"),u.Qb(2,"div",1),u.Qb(3,"div",2),u.Qb(4,"h1",3),u.qc(5,"SMS sent to guest"),u.Pb(),u.Qb(6,"mat-icon",4),u.qc(7,"verified"),u.Pb(),u.Qb(8,"p",5),u.Qb(9,"span",3),u.qc(10,"Number of guests currently checked-in"),u.Pb(),u.Pb(),u.Qb(11,"div",5),u.qc(12),u.Pb(),u.Qb(13,"button",6),u.qc(14,"Ok"),u.Pb(),u.Qb(15,"p",7),u.qc(16,"Please ask the customer for the SMS"),u.Pb(),u.Pb(),u.Pb()),2&t&&(u.fc("showBackButton",!0)("showLogoutButton",!0)("title",u.cc(1,5,"Check-in"))("type",e.toolbarType),u.zb(12),u.sc("[",e.visitors,"]"))},directives:[k.a,C.b,C.a,l.a,Q.a,w.b,o.b],pipes:[l.d],styles:["[_nghost-%COMP%]{height:100%;flex:1}.symbol[_ngcontent-%COMP%]{color:#03a9f4}.mat-raised-button[_ngcontent-%COMP%]{background-color:#03a9f4!important}.visitors[_ngcontent-%COMP%]{color:#03a9f4}div.visitors[_ngcontent-%COMP%]{line-height:200%;font-size:300%}"]}),t})(),_=(()=>{class t{constructor(t){this._operations=t}ngOnInit(){}get visitors(){return this._operations.getVisitors()}get toolbarType(){return k.b.success}}return t.\u0275fac=function(e){return new(e||t)(u.Lb(b.a))},t.\u0275cmp=u.Fb({type:t,selectors:[["app-check-in-success"]],decls:15,vars:7,consts:[[3,"showBackButton","showLogoutButton","title","type"],[1,"content"],["fxLayout","column","fxLayoutAlign","center center",2,"padding-top","64px"],[3,"translate"],["color","primary",1,"symbol"],[1,"visitors"],["color","primary","mat-raised-button","","routerLink","/in-out/check-in"]],template:function(t,e){1&t&&(u.Mb(0,"app-toolbar",0),u.bc(1,"translate"),u.Qb(2,"div",1),u.Qb(3,"div",2),u.Qb(4,"h1",3),u.qc(5,"Check-in Successfull"),u.Pb(),u.Qb(6,"mat-icon",4),u.qc(7,"fact_check"),u.Pb(),u.Qb(8,"p",5),u.Qb(9,"span",3),u.qc(10,"Number of guests currently checked-in"),u.Pb(),u.Pb(),u.Qb(11,"div",5),u.qc(12),u.Pb(),u.Qb(13,"button",6),u.qc(14,"Ok"),u.Pb(),u.Pb(),u.Pb()),2&t&&(u.fc("showBackButton",!0)("showLogoutButton",!0)("title",u.cc(1,5,"Check-in"))("type",e.toolbarType),u.zb(12),u.sc("[",e.visitors,"]"))},directives:[k.a,C.b,C.a,l.a,Q.a,w.b,o.b],pipes:[l.d],styles:["[_nghost-%COMP%]{height:100%;flex:1}.symbol[_ngcontent-%COMP%]{color:#ffd600}.mat-raised-button[_ngcontent-%COMP%]{background-color:#ffd600!important}.visitors[_ngcontent-%COMP%]{color:#ffd600}div.visitors[_ngcontent-%COMP%]{line-height:200%;font-size:300%}"]}),t})();const M=[{path:"",component:(()=>{class t{constructor(){}get toolbarType(){return k.b.checkIn}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Fb({type:t,selectors:[["app-layout"]],decls:4,vars:6,consts:[[3,"showBackButton","showLogoutButton","title","type"],[1,"content"]],template:function(t,e){1&t&&(u.Mb(0,"app-toolbar",0),u.bc(1,"translate"),u.Qb(2,"div",1),u.Mb(3,"router-outlet"),u.Pb()),2&t&&u.fc("showBackButton",!0)("showLogoutButton",!0)("title",u.cc(1,4,"Check-in"))("type",e.toolbarType)},directives:[k.a,o.d],pipes:[l.d],styles:[""]}),t})(),children:[{path:"",component:P}]},{path:"validation",component:O},{path:"success",component:_}];let D=(()=>{class t{}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)},imports:[[o.c.forChild(M)],o.c]}),t})();var B=n("PCNd");let F=(()=>{class t{}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[D,B.a,v.b]]}),t})()}}]);