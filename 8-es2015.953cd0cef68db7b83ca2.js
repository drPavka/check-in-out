(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{nHPb:function(n,e,t){"use strict";t.r(e),t.d(e,"CheckInModule",(function(){return O}));var s=t("ofXK"),o=t("tyNb"),r=t("quSY"),c=t("XNiG"),i=t("2Vo4"),a=t("eIep"),u=t("pLZG"),d=t("fXoL"),b=t("4jVr"),l=t("f0Cb"),p=t("IyRd"),h=t("bTqV");const m=function(){return["QR_CODE"]},f=[{path:"",component:(()=>{class n{constructor(n){this._operations=n,this._subs=new r.a,this.submit$$=new c.a,this.scanned$$=new i.a(!1),this.scannerEnabled=!0,this.currentDevice=null,this.scanned$=this.scanned$$.asObservable()}ngOnInit(){this._subs.add(this.scanned$.pipe(Object(a.a)(this._operations.analyzeCheckInQRCode.bind(this._operations)),Object(u.a)(n=>!!n)).subscribe())}ngOnDestroy(){this._subs.unsubscribe()}onCamerasFound(n){console.log("camera found"),this.availableDevices=n,this.hasDevices=Boolean(n&&n.length);for(const e of n)if(/back|rear|environment/gi.test(e.label)){this.currentDevice=e;break}this.hasDevices&&!this.currentDevice&&(this.currentDevice=n[0])}onCamerasNotFound(){console.log("camera not found"),this.hasDevices=!1}onHasPermission(n){console.log("has permissions"),this.hasPermission=n}handleQrCodeResult(n){console.log("handle",n);let e={};n.split(";").forEach(n=>{const[t,s]=n.split("=");e[t]=s}),this.scanned$$.next(e)}scanError(){console.log("error")}}return n.\u0275fac=function(e){return new(e||n)(d.Jb(b.a))},n.\u0275cmp=d.Db({type:n,selectors:[["app-check-in"]],decls:7,vars:5,consts:[[1,"scanner"],[3,"enable","device","formats","tryHarder","scanSuccess","scanError","camerasFound","camerasNotFound","permissionResponse"],["routerLink","/in-out","mat-button",""]],template:function(n,e){1&n&&(d.Ob(0,"h3"),d.mc(1,"Scan QR Code"),d.Nb(),d.Kb(2,"mat-divider"),d.Ob(3,"div",0),d.Ob(4,"zxing-scanner",1),d.Wb("scanSuccess",(function(n){return e.handleQrCodeResult(n)}))("scanError",(function(){return e.scanError()}))("camerasFound",(function(n){return e.onCamerasFound(n)}))("camerasNotFound",(function(){return e.onCamerasNotFound()}))("permissionResponse",(function(n){return e.onHasPermission(n)})),d.Nb(),d.Nb(),d.Ob(5,"a",2),d.mc(6,"Cancel"),d.Nb()),2&n&&(d.zb(4),d.bc("enable",e.scannerEnabled)("device",e.currentDevice)("formats",d.cc(4,m))("tryHarder",!0))},directives:[l.a,p.a,o.c,h.a],styles:["h3[_ngcontent-%COMP%]{color:grey}mat-divider[_ngcontent-%COMP%]{background-color:#03a9f4}div.scanner[_ngcontent-%COMP%]{padding:24px;margin-top:36px}[_nghost-%COMP%]   zxing-scanner[_ngcontent-%COMP%] {width:100%;height:100%;-o-object-fit:contain;object-fit:contain}a[_ngcontent-%COMP%]{margin:0 auto;display:block;padding-top:36px;font-weight:400;color:grey!important;text-decoration:underline}"],changeDetection:0}),n})()},{path:"validation",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Db({type:n,selectors:[["app-validation-success"]],decls:4,vars:0,consts:[["mat-raised-button","","color","primary","routerLink","/in-out"]],template:function(n,e){1&n&&(d.Ob(0,"p"),d.mc(1,"Vistor validated. SMS send to the visitor"),d.Nb(),d.Ob(2,"button",0),d.mc(3,"Ok"),d.Nb())},directives:[h.b,o.b],styles:[""]}),n})()},{path:"success",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Db({type:n,selectors:[["app-check-in-success"]],decls:4,vars:0,consts:[["mat-raised-button","","color","primary","routerLink","/in-out"]],template:function(n,e){1&n&&(d.Ob(0,"p"),d.mc(1,"Visitor is checked-in"),d.Nb(),d.Ob(2,"button",0),d.mc(3,"Ok"),d.Nb())},directives:[h.b,o.b],styles:[""]}),n})()}];let v=(()=>{class n{}return n.\u0275mod=d.Hb({type:n}),n.\u0275inj=d.Gb({factory:function(e){return new(e||n)},imports:[[o.d.forChild(f)],o.d]}),n})();var g=t("PCNd");let O=(()=>{class n{}return n.\u0275mod=d.Hb({type:n}),n.\u0275inj=d.Gb({factory:function(e){return new(e||n)},providers:[],imports:[[s.b,v,g.a,p.b,l.b]]}),n})()}}]);