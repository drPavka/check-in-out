function _createForOfIteratorHelper(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){i=!0,c=e},f:function(){try{a||null==t.return||t.return()}finally{if(i)throw c}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{bD6a:function(e,n,t){"use strict";t.r(n),t.d(n,"CheckOutModule",(function(){return S}));var r=t("ofXK"),o=t("tyNb"),c=t("quSY"),a=t("2Vo4"),i=t("pLZG"),s=t("vkgz"),u=t("eIep"),l=t("fXoL"),f=t("4jVr"),b=t("y9W9"),p=t("sYmb"),h=t("kmnG"),d=t("d3UM"),v=t("FKr1"),y=t("IyRd"),m=["scanner"];function g(e,n){if(1&e&&(l.Qb(0,"mat-option",8),l.qc(1),l.Pb()),2&e){var t=n.$implicit;l.fc("value",t.deviceId),l.zb(1),l.sc(" ",t.label," ")}}var C,k,_,O,P,w=function(){return["QR_CODE"]},D=((C=function(){function e(n,t){_classCallCheck(this,e),this._operations=n,this._err=t,this._subs=new c.a,this.scanned$$=new a.a(!1),this.scannerEnabled=!0,this.currentDevice=null}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._subs.add(this.scanned$$.asObservable().pipe(Object(i.a)((function(e){return!!e})),Object(i.a)((function(){return e.scannerEnabled})),Object(s.a)((function(){e.scannerEnabled=!1})),Object(i.a)((function(e){return e.hasOwnProperty("id")&&e.hasOwnProperty("pc")})),Object(u.a)((function(n){var t=n.id,r=n.pc;return e._operations.checkOut$(t,r)})),Object(s.a)((function(){e.scannerEnabled=!0})),Object(i.a)((function(e){return!!e}))).subscribe())}},{key:"ngOnDestroy",value:function(){this._subs.unsubscribe()}},{key:"onCamerasFound",value:function(e){console.log("camera found"),this.availableDevices=e,this.hasDevices=Boolean(e&&e.length);var n,t=_createForOfIteratorHelper(e);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(/back|rear|environment/gi.test(r.label)){this.currentDevice=r;break}}}catch(o){t.e(o)}finally{t.f()}this.hasDevices&&!this.currentDevice&&(this.currentDevice=e[0])}},{key:"onCamerasNotFound",value:function(){console.log("camera not found"),this.hasDevices=!1}},{key:"onHasPermission",value:function(e){console.log("has permissions"),this.hasPermission=e}},{key:"handleQrCodeResult",value:function(e){this.scanned$$.next(this._operations.parseCode(e))}},{key:"scanError",value:function(){console.log("error")}},{key:"onDeviceSelectChange",value:function(e){var n=this.availableDevices.find((function(n){return n.deviceId===e}));this.currentDevice=n||null}}]),e}()).\u0275fac=function(e){return new(e||C)(l.Lb(f.a),l.Lb(b.a))},C.\u0275cmp=l.Fb({type:C,selectors:[["app-check-out"]],viewQuery:function(e,n){var t;1&e&&l.vc(m,!0),2&e&&l.hc(t=l.Zb())&&(n.scanner=t.first)},decls:10,vars:7,consts:[[3,"translate"],[1,"device-select-field"],[3,"value","selectionChange"],[3,"value","translate"],["class","mat-option",3,"value",4,"ngFor","ngForOf"],[1,"scanner"],[3,"device","formats","tryHarder","scanSuccess","scanError","camerasFound","camerasNotFound","permissionResponse"],["scanner",""],[1,"mat-option",3,"value"]],template:function(e,n){1&e&&(l.Qb(0,"h3",0),l.qc(1,"Scan QR code"),l.Pb(),l.Qb(2,"mat-form-field",1),l.Qb(3,"mat-select",2),l.Yb("selectionChange",(function(e){return n.onDeviceSelectChange(e.value)})),l.Qb(4,"mat-option",3),l.qc(5,"No device selected"),l.Pb(),l.pc(6,g,2,2,"mat-option",4),l.Pb(),l.Pb(),l.Qb(7,"div",5),l.Qb(8,"zxing-scanner",6,7),l.Yb("scanSuccess",(function(e){return n.handleQrCodeResult(e)}))("scanError",(function(){return n.scanError()}))("camerasFound",(function(e){return n.onCamerasFound(e)}))("camerasNotFound",(function(){return n.onCamerasNotFound()}))("permissionResponse",(function(e){return n.onHasPermission(e)})),l.Pb(),l.Pb()),2&e&&(l.zb(3),l.fc("value",null!=n.currentDevice&&n.currentDevice.deviceId?n.currentDevice.deviceId:""),l.zb(1),l.fc("value",""),l.zb(2),l.fc("ngForOf",n.availableDevices),l.zb(2),l.fc("device",n.currentDevice)("formats",l.gc(6,w))("tryHarder",!0))},directives:[p.a,h.c,d.a,v.h,r.j,y.a],styles:["[_nghost-%COMP%]   zxing-scanner[_ngcontent-%COMP%] {width:100%;height:100%;-o-object-fit:contain;object-fit:contain}a[_ngcontent-%COMP%]{margin:0 auto;display:block;padding-top:36px;font-weight:400;color:grey!important;text-decoration:underline;text-transform:capitalize}"],changeDetection:0}),C),Q=t("XiUz"),F=t("NFeN"),I=t("bTqV"),j=((k=function(){function e(n){_classCallCheck(this,e),this._operations=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"visitors",get:function(){return this._operations.getVisitors()}}]),e}()).\u0275fac=function(e){return new(e||k)(l.Lb(f.a))},k.\u0275cmp=l.Fb({type:k,selectors:[["app-check-out-success"]],decls:12,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center center"],[3,"translate"],["color","accent",1,"symbol"],[1,"visitors"],["mat-raised-button","","color","accent","routerLink","/in-out/check-out"]],template:function(e,n){1&e&&(l.Qb(0,"div",0),l.Qb(1,"h1",1),l.qc(2,"Check-out successful"),l.Pb(),l.Qb(3,"mat-icon",2),l.qc(4,"exit_to_app"),l.Pb(),l.Qb(5,"p",3),l.Qb(6,"span",1),l.qc(7,"Number of guests currently checked-in"),l.Pb(),l.Pb(),l.Qb(8,"div",3),l.qc(9),l.Pb(),l.Qb(10,"button",4),l.qc(11,"Ok"),l.Pb(),l.Pb()),2&e&&(l.zb(9),l.sc("[",n.visitors,"]"))},directives:[Q.b,Q.a,p.a,F.a,I.b,o.b],styles:["[_nghost-%COMP%]{height:100%;flex:1}.visitors[_ngcontent-%COMP%]{color:#8bc34a}div.visitors[_ngcontent-%COMP%]{line-height:200%;font-size:300%}"]}),k),L=t("73Ib"),z=[{path:"",component:(_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toolbarType",get:function(){return L.b.checkOut}}]),e}(),_.\u0275fac=function(e){return new(e||_)},_.\u0275cmp=l.Fb({type:_,selectors:[["app-layout"]],decls:4,vars:6,consts:[[3,"showBackButton","showLogoutButton","title","type"],[1,"content"]],template:function(e,n){1&e&&(l.Mb(0,"app-toolbar",0),l.bc(1,"translate"),l.Qb(2,"div",1),l.Mb(3,"router-outlet"),l.Pb()),2&e&&l.fc("showBackButton",!0)("showLogoutButton",!0)("title",l.cc(1,4,"Check-out"))("type",n.toolbarType)},directives:[L.a,o.d],pipes:[p.d],styles:[".mat-icon[_ngcontent-%COMP%]{color:#fff}"]}),_),children:[{path:"",component:D},{path:"success",component:j}]}],A=((O=function e(){_classCallCheck(this,e)}).\u0275mod=l.Jb({type:O}),O.\u0275inj=l.Ib({factory:function(e){return new(e||O)},imports:[[o.c.forChild(z)],o.c]}),O),M=t("PCNd"),S=((P=function e(){_classCallCheck(this,e)}).\u0275mod=l.Jb({type:P}),P.\u0275inj=l.Ib({factory:function(e){return new(e||P)},imports:[[r.b,A,y.b,M.a]]}),P)}}]);