function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e,n){t.exports=n("zUnb")},AytR:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r="https://idme.ch/",o={production:!0,backend:{host:r,prefix:"api/",base:r+"api/"}}},PCNd:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("ofXK"),o=n("/t3+"),a=n("STbY"),c=n("NFeN"),i=n("bTqV"),s=n("YUcS"),u=n("3Pt+"),b=n("kmnG"),l=n("qFsG"),f=n("tk/3"),p=n("fXoL"),d=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=p.Hb({type:t}),t.\u0275inj=p.Gb({factory:function(e){return new(e||t)},imports:[[r.b,o.b,a.b,c.b,i.c,s.a,u.l,b.d,l.b,f.c],r.b,o.b,a.b,c.b,i.c,s.a,u.l,b.d,l.b,f.c]}),t}()},TAFP:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("AytR"),o=n("fXoL"),a=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){var n=(r.a.backend.base+"/"+t.url).split("/").filter((function(t){return!!t})).join("/").replace(/(https?:)\//,"$1//");return t=t.clone({url:n}),e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac}),t}()},khYj:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return b}));var r=n("fXoL"),o=n("LRne"),a=n("vkgz"),c=n("JIr8"),i=n("tk/3"),s=n("y9W9"),u=new r.q("local_storage"),b=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._http=e,this._storage=n,this._err=r}return _createClass(t,[{key:"authorize$",value:function(t){var e=this;return this._http.post("authenticate",t).pipe(Object(a.a)(this._saveToken.bind(this)),Object(c.a)((function(t){return e._err.handleError(t),Object(o.a)(t)})))}},{key:"_saveToken",value:function(t){var e=t.token;this._storage.set("authorization",e)}},{key:"isLoggedIn$",get:function(){return Object(o.a)(this._storage.has("authorization"))}},{key:"token",get:function(){return this._storage.has("authorization")?this._storage.get("authorization"):null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Sb(i.b),r.Sb(u),r.Sb(s.a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},qyK6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("tk/3"),o=n("LRne"),a=n("fXoL"),c=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url,a=t.body;switch(console.log("Make a backend call to",n),n){case"authenticate":if("username"===a.username&&"password"===a.password)return Object(o.a)(new r.e({status:200,body:{token:"bearer_code_string"}}));throw new r.d({status:403,error:{message:"Wrong auth data"}});case"/club/registration/validation":case"/club/checkout":case"/club/checkin":return Object(o.a)(new r.e({status:201,body:{currentGuestNumber:0,maxGuestNumber:0}}))}return e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac}),t}()},y9W9:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("fXoL"),o=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"handleError",value:function(t){console.error(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},zUnb:function(t,e,n){"use strict";n.r(e);var r,o,a=n("fXoL"),c=n("AytR"),i=n("jhN1"),s=n("tyNb"),u=n("/t3+"),b=n("XiUz"),l=n("bTqV"),f=n("STbY"),p=n("NFeN"),d=((o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=a.Db({type:o,selectors:[["app-layout"]],decls:18,vars:1,consts:[[1,"mobile-center"],[1,"card"],["color","primary"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center","routerLink","/"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["extraMenu","matMenu"],["mat-menu-item",""],[1,"content"]],template:function(t,e){if(1&t&&(a.Ob(0,"div",0),a.Ob(1,"main",1),a.Ob(2,"mat-toolbar",2),a.Ob(3,"mat-toolbar-row"),a.Ob(4,"a",3),a.Ob(5,"h1"),a.mc(6,"Check In Out"),a.Nb(),a.Nb(),a.Kb(7,"span",4),a.Ob(8,"span"),a.Ob(9,"button",5),a.Ob(10,"mat-icon"),a.mc(11,"more_vert"),a.Nb(),a.Nb(),a.Nb(),a.Ob(12,"mat-menu",null,6),a.Ob(14,"button",7),a.mc(15,"App info"),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Ob(16,"div",8),a.Kb(17,"router-outlet"),a.Nb(),a.Nb(),a.Nb()),2&t){var n=a.ec(13);a.zb(9),a.bc("matMenuTriggerFor",n)}},directives:[u.a,u.c,s.c,b.a,b.c,b.b,l.b,f.c,p.a,f.d,f.a,s.e],styles:["[_nghost-%COMP%]{flex-direction:column;flex:1}[_nghost-%COMP%], main[_ngcontent-%COMP%]{display:flex}main[_ngcontent-%COMP%]{flex-direction:column}mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}mat-toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width:360px){mat-toolbar[_ngcontent-%COMP%]{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);position:fixed;z-index:99}}@media (max-width:360px){div.content[_ngcontent-%COMP%]{padding-top:64px}}h1[_ngcontent-%COMP%]{text-transform:uppercase;color:#fff}img[_ngcontent-%COMP%]{padding-left:6px;padding-right:12px}.card[_ngcontent-%COMP%]{width:100%;height:100%;background-size:contain;background-color:#fff;box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}@media (min-width:600px){.card[_ngcontent-%COMP%]{width:420px;height:570px;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}}.mobile-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}@media (min-width:600px){.mobile-center[_ngcontent-%COMP%]{height:100vh}}a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0}),o),h=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=a.Db({type:r,selectors:[["app-error"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Ob(0,"p"),a.mc(1,"error works!"),a.Nb())},styles:[""]}),r),m=n("XNiG"),g=n("quSY"),v=n("Cfvw"),_=n("3Pt+"),O=n("pLZG"),C=n("lJxs"),y=n("eIep"),k=n("tk/3"),w=n("khYj"),x=n("kmnG"),N=n("qFsG"),P=n("ofXK");function j(t,e){1&t&&(a.Ob(0,"mat-error"),a.mc(1,"Login required"),a.Nb())}function M(t,e){1&t&&(a.Ob(0,"mat-error"),a.mc(1,"Password required"),a.Nb())}var z,I,L,q,F,S,G=((I=function(){function t(e,n){_classCallCheck(this,t),this._auth=e,this._router=n,this.submit$$=new m.a,this._subs=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.form=new _.d({username:new _.b("",[_.n.required]),password:new _.b("",[_.n.required])}),this._subs.add(this.submit$$.asObservable().pipe(Object(O.a)((function(){return t.form.valid})),Object(C.a)((function(){return Object.assign({},t.form.value,{rememberMe:!1})})),Object(y.a)(this._auth.authorize$.bind(this._auth)),Object(O.a)((function(t){return!(t instanceof Error||t instanceof k.d)})),Object(y.a)((function(){return Object(v.a)(t._router.navigate(["in-out"]))}))).subscribe())}},{key:"ngOnDestroy",value:function(){this._subs.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||I)(a.Jb(w.a),a.Jb(s.a))},I.\u0275cmp=a.Db({type:I,selectors:[["app-login"]],decls:17,vars:4,consts:[[1,"main-content",3,"formGroup","ngSubmit"],[1,"central-content"],["autofocus","","formControlName","username","matInput","","required","","type","text"],[4,"ngIf"],["formControlName","password","matInput","","required","","type","password"],["color","primary","mat-raised-button","","type","submit",3,"disabled"],["mat-button","",1,"restore-password"]],template:function(t,e){1&t&&(a.Ob(0,"form",0),a.Wb("ngSubmit",(function(){return e.submit$$.next()})),a.Ob(1,"section",1),a.Ob(2,"div"),a.Ob(3,"mat-form-field"),a.Ob(4,"mat-label"),a.mc(5,"Username"),a.Nb(),a.Kb(6,"input",2),a.lc(7,j,2,0,"mat-error",3),a.Nb(),a.Ob(8,"mat-form-field"),a.Ob(9,"mat-label"),a.mc(10,"Password"),a.Nb(),a.Kb(11,"input",4),a.lc(12,M,2,0,"mat-error",3),a.Nb(),a.Nb(),a.Ob(13,"button",5),a.mc(14,"Login "),a.Nb(),a.Ob(15,"a",6),a.mc(16,"Don't remember your password?"),a.Nb(),a.Nb(),a.Nb()),2&t&&(a.bc("formGroup",e.form),a.zb(7),a.bc("ngIf",e.form.controls.username.hasError("required")),a.zb(5),a.bc("ngIf",e.form.controls.password.hasError("required")),a.zb(1),a.bc("disabled",e.form.invalid))},directives:[_.o,_.j,_.e,x.b,x.e,_.a,N.a,_.i,_.c,_.m,P.i,l.b,l.a,x.a],styles:[".central-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}a.restore-password[_ngcontent-%COMP%]{color:grey;font-weight:400;font-size:16px;text-decoration:underline}"],changeDetection:0}),I),T=((z=function(){function t(e,n){_classCallCheck(this,t),this._auth=e,this._router=n}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this;return this._auth.isLoggedIn$.pipe(Object(C.a)((function(t){return t||n._router.parseUrl("/")})))}}]),t}()).\u0275fac=function(t){return new(t||z)(a.Sb(w.a),a.Sb(s.a))},z.\u0275prov=a.Fb({token:z,factory:z.\u0275fac,providedIn:"root"}),z),$=[{path:"",component:d,children:[{path:"",component:G,canActivate:[(L=function(){function t(e,n){_classCallCheck(this,t),this._auth=e,this._router=n}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this;return this._auth.isLoggedIn$.pipe(Object(C.a)((function(t){return!t||n._router.parseUrl("in-out")})))}}]),t}(),L.\u0275fac=function(t){return new(t||L)(a.Sb(w.a),a.Sb(s.a))},L.\u0275prov=a.Fb({token:L,factory:L.\u0275fac,providedIn:"root"}),L)]},{path:"in-out",loadChildren:function(){return n.e(7).then(n.bind(null,"J6bi")).then((function(t){return t.InOutModule}))},canActivate:[T]},{path:"**",component:h}]}],A=((F=function t(){_classCallCheck(this,t)}).\u0275mod=a.Hb({type:F}),F.\u0275inj=a.Gb({factory:function(t){return new(t||F)},imports:[[s.d.forRoot($)],s.d]}),F),D=((q=function t(){_classCallCheck(this,t),this.title="check-in-out-app"}).\u0275fac=function(t){return new(t||q)},q.\u0275cmp=a.Db({type:q,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&a.Kb(0,"router-outlet")},directives:[s.e],encapsulation:2,changeDetection:0}),q),X=n("R1ws"),E=n("qyK6"),K=n("SX+u"),U=n("y9W9"),J=n("PCNd"),R=n("TAFP"),Y=((S=function t(){_classCallCheck(this,t)}).\u0275mod=a.Hb({type:S,bootstrap:[D]}),S.\u0275inj=a.Gb({factory:function(t){return new(t||S)},providers:[{provide:w.b,useExisting:K.a},{useClass:U.a,provide:a.m},{useClass:E.a,provide:k.a,multi:!0},{useClass:R.a,provide:k.a,multi:!0}],imports:[[i.a,A,X.b,J.a]]}),S);c.a.production&&Object(a.S)(),i.c().bootstrapModule(Y).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0,6]]]);